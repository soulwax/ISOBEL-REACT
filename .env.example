# ISOBEL Web Interface Environment Configuration
# Copy this file to .env and fill in your values

# ============================================
# REQUIRED: Discord OAuth (Web Authentication)
# ============================================
DISCORD_CLIENT_ID=your-discord-oauth-client-id
DISCORD_CLIENT_SECRET=your-discord-oauth-client-secret

# Create OAuth application at: https://discord.com/developers/applications
# Add redirect URL: http://your-domain:3001/api/auth/callback/discord
# For local development: http://localhost:3001/api/auth/callback/discord

# ============================================
# OPTIONAL: NextAuth Configuration
# ============================================
# Optional but recommended. If unset, the app falls back to DISCORD_CLIENT_SECRET.
NEXTAUTH_SECRET=your-random-secret-here
# Generate with: openssl rand -base64 32

NEXTAUTH_URL=http://localhost:3001
# For production: https://your-domain.com

# ============================================
# REQUIRED: Database
# ============================================
DATABASE_URL=postgresql://user:password@host:5432/isobel?sslmode=require

# Examples:
# Local:    postgresql://postgres:password@localhost:5432/isobel
# Neon:     postgresql://user:pass@ep-cool-darkness-123456.us-east-2.aws.neon.tech:5432/isobel?sslmode=require
# Supabase: postgresql://postgres:pass@db.projectref.supabase.co:5432/postgres?sslmode=require

# ============================================
# OPTIONAL: Service Configuration
# ============================================
PORT=3001
# WEB_PORT=3001        # Alternative name for PORT
# AUTH_PORT=3003       # Auth server port (if running separately)
# AUTH_PROXY_TARGET=http://localhost:3003
# Used by Vite dev/preview proxy for /api requests

BOT_HEALTH_URL=http://localhost:3002/health
# For production: https://health.your-domain.com/health

# ============================================
# OPTIONAL: Vite/Client Environment
# (These are exposed to the browser)
# ============================================
VITE_BOT_HEALTH_URL=http://localhost:3002/health
VITE_AUTH_API_URL=/api

# For production, set VITE_BOT_HEALTH_URL to your public health endpoint
# VITE_BOT_HEALTH_URL=https://health.your-domain.com/health

# ============================================
# Vercel Deployment (Alternative)
# ============================================
# If deploying to Vercel, you can use Vercel Postgres instead of DATABASE_URL.
# Vercel will automatically provide these variables:

# POSTGRES_URL=<provided-by-vercel>
# POSTGRES_URL_NON_POOLING=<provided-by-vercel>
# POSTGRES_USER=<provided-by-vercel>
# POSTGRES_HOST=<provided-by-vercel>
# POSTGRES_PASSWORD=<provided-by-vercel>
# POSTGRES_DATABASE=<provided-by-vercel>

# NOTE: The app will use DATABASE_URL or POSTGRES_URL (in that order).
# You only need ONE of these configured.
